\chapter{Аналитическая часть}

\section{Анализ предметной области}

Игротека проводится организатором (магазином) в каком-то месте (кафе, антикафе,
ресторане и тп). На ней представлена одна или несколько игр, в которые можно
поиграть. Часто организаторы предоставляют возможность покупки тех же игр прямо
на месте или возможность сделать заказ.

\textbf{\texttt{Анализ}} страниц сайтах об игротеках показал, что
\textbf{\texttt{обычно}} информация об игротеке включает дату, время начала,
продолжительность или время окончания, адрес проведения и стоимость участия.
Также представляется набор игр, по которым проводится игротека.

Информация об играх 

\section{Постановка задачи}

Задача.

\section{Формализация данных}

На основе анализа предметной области, ..., база данных должна содержать
информацию о:

\begin{itemize}
    \item игротеках;
    \item организаторах;
    \item местах проведения;
    \item настольных играх, по которым проводятся игротеки;
    \item игроках;
    \item пользователях.
\end{itemize}

Сведения о каждой представленной сущности представлены в таблице~\ref{tab:01}.

\textbf{\texttt{Требования!!!}}

\textbf{\texttt{Типы здесь?}}

\begin{table}[h!]
    \begin{center}
    \begin{threeparttable}
        \captionsetup{format=hang,justification=raggedright,
                      singlelinecheck=off}
        \caption{\label{tab:01}Категории данных и сведения о них}
        \renewcommand{\arraystretch}{1.5}
        \begin{tabular}{|p{4cm}|p{12cm}|}
            \hline
            \bfseries Категория & \bfseries Сведения\\
            \hline
            \begin{minipage}[t]{\linewidth}
              \begin{multicols}{1}
                \begin{itemize}[labelsep=0mm,nosep,after=\strut]
                  \item[] Игротека
                  \item[]
                  \item[]
                  \item[]
                  \item[]
                  \item[]
                  \item[]
                  \item[]
                  \item[]
                \end{itemize}
              \end{multicols}
            \end{minipage}
          & \begin{minipage}[t]{\linewidth}
              \begin{multicols}{2}
                \begin{itemize}[labelsep=0mm,nosep,after=\strut]
                  \item[] ID
                  \item[] Название
                  \item[] Организатор
                  \item[] Время начала
                  \item[] Дата проведения
                  \item[] Возможность покупки игр
                  \item[] Место проведения
                  \item[] Продолжительность
                  \item[] Стоимость участия
                \end{itemize}
              \end{multicols}
            \end{minipage}\\
            \hline
            \begin{minipage}[t]{\linewidth}
              \begin{multicols}{1}
                \begin{itemize}[labelsep=0mm,nosep,after=\strut]
                  \item[] Организатор
                  \item[]
                  \item[]
                  \item[]
                  \item[]
                \end{itemize}
              \end{multicols}
            \end{minipage}
          & \begin{minipage}[t]{\linewidth}
              \begin{multicols}{2}
                \begin{itemize}[labelsep=0mm,nosep,after=\strut]
                  \item[] ID
                  \item[] Название
                  \item[] Адрес
                  \item[] Сайт
                  \item[] Email
                  \item[] Телефон
                \end{itemize}
              \end{multicols}
            \end{minipage}\\
            \hline
            \begin{minipage}[t]{\linewidth}
              \begin{multicols}{1}
                \begin{itemize}[labelsep=0mm,nosep,after=\strut]
                  \item[] Место 
                  \item[] проведения
                  \item[]
                  \item[]
                  \item[]
                  \item[]
                  \item[]
                \end{itemize}
              \end{multicols}
            \end{minipage}
          & \begin{minipage}[t]{\linewidth}
              \begin{multicols}{2}
                \begin{itemize}[labelsep=0mm,nosep,after=\strut]
                  \item[] ID
                  \item[] Адрес
                  \item[] Сайт
                  \item[] Название
                  \item[] Тип
                  \item[] Email
                  \item[] Телефон
                \end{itemize}
              \end{multicols}
            \end{minipage}\\
            \hline
            \begin{minipage}[t]{\linewidth}
              \begin{multicols}{1}
                \begin{itemize}[labelsep=0mm,nosep,after=\strut]
                  \item[] Настольная
                  \item[] игра
                  \item[]
                  \item[]
                  \item[]
                  \item[]
                  \item[]
                  \item[]
                  \item[]
                \end{itemize}
              \end{multicols}
            \end{minipage}
          & \begin{minipage}[t]{\linewidth}
              \begin{multicols}{2}
                \begin{itemize}[labelsep=0mm,nosep,after=\strut]
                  \item[] ID
                  \item[] Название
                  \item[] Производитель
                  \item[] Год выпуска
                  \item[] Мин. число игроков
                  \item[] Макс. число игроков
                  \item[] Мин. возраст
                  \item[] Макс. возраст
                  \item[] Мин. время игры
                  \item[] Макс. время игры
                \end{itemize}
              \end{multicols}
            \end{minipage}\\
            \hline
            \begin{minipage}[t]{\linewidth}
              \begin{multicols}{1}
                \begin{itemize}[labelsep=0mm,nosep,after=\strut]
                  \item[] Игрок
                  \item[]
                  \item[]
                \end{itemize}
              \end{multicols}
            \end{minipage}
          & \begin{minipage}[t]{\linewidth}
              \begin{multicols}{2}
                \begin{itemize}[labelsep=0mm,nosep,after=\strut]
                  \item[] ID
                  \item[] Имя
                  \item[] Лига
                  \item[] Рейтинг
                \end{itemize}
              \end{multicols}
            \end{minipage}\\
            \hline
            \begin{minipage}[t]{\linewidth}
              \begin{multicols}{0}
                \begin{itemize}[labelsep=0mm,nosep,after=\strut]
                  \item[] Пользователь
                  \item[]
                  \item[]
                  \item[]
                \end{itemize}
              \end{multicols}
            \end{minipage}
          & \begin{minipage}[t]{\linewidth}
              \begin{multicols}{2}
                \begin{itemize}[labelsep=0mm,nosep,after=\strut]
                  \item[] ID
                  \item[] Роль
                  \item[] Логин
                  \item[] Пароль
                \end{itemize}
              \end{multicols}
            \end{minipage}\\
           \hline
        \end{tabular}
    \end{threeparttable}
    \end{center}
\end{table} 

\section{Описание типов пользователей}

\textbf{\texttt{Продумать просмотр, чего нужен каждому}}

\begin{table}[h!]
    \begin{center}
    \begin{threeparttable}
        \captionsetup{format=hang,justification=raggedright,
                      singlelinecheck=off}
        \caption{\label{tab:02}Описание типов пользователей}
        \renewcommand{\arraystretch}{1.5}
        \begin{tabular}{|p{3.3cm}|p{5.2cm}|p{7cm}|}
            \hline
            \bfseries Тип & \bfseries Описание &
            \bfseries Функциональность\\
            \hline
            Гость & Неавторизированный\par пользователь
                  & \begin{minipage}[t]{\linewidth}
                      \begin{itemize}[nosep,after=\strut]
                        \item Просмотр списка настольных игр и игротек
                        \item Авторизация
                        \item Регистрация
                      \end{itemize}
                  \end{minipage}\\
            \hline
            Игрок & Авторизированный пользователь
                  & \begin{minipage}[t]{\linewidth}
                      \begin{itemize}[nosep,after=\strut]
                          \item Просмотр списка настольных игр и игротек
                          \item Составление списка предпочитаемых игр
                          \item Регистрация на игротеки
                      \end{itemize}
                  \end{minipage}\\
            \hline
            Организатор & Авторизированный пользователь\par
                          с возможностью работы с игротеками
                  & \begin{minipage}[t]{\linewidth}
                      \begin{itemize}[nosep,after=\strut]
                          \item Просмотр списка настольных игр, игротек, мест
                        проведения, организаторов\
                          \item Регистрация новых игротек
                          \item Просмотр списка зарегистрированных на игротеку
                        участников
                          \item Формирование заявки на добавление нового места
                        проведения при его отсутствии в базе
                          \item Формирование заявки на добавление игры при ее
                        отсутствии в базе
                      \end{itemize}
                  \end{minipage}\\
            \hline
            Администратор & Авторизированный пользователь\par
                            с повышенным уровнем полномочий
                  & \begin{minipage}[t]{\linewidth}
                      \begin{itemize}[nosep,after=\strut]
                          \item Просмотр списка настольных игр, игротек, мест
                        проведения, организаторов, пользователей
                          \item Изменение информации о настольных играх, местах
                        проведения, организаторах, игротеках
                          \item Одобрение или отклонение заявок от
                        организаторов
                          \item Изменение прав доступа пользователей
                          \item Удаление пользователей
                      \end{itemize}
                  \end{minipage}\\
            \hline
        \end{tabular}
    \end{threeparttable}
    \end{center}
\end{table} 


\section{Анализ существующих решений}

\subsection{В России}

В сфере настольных игр есть несколько компаний (Hobby World, МосИгра,
NizaGames), представляющие свои интернет магазины настольных игр. Веб-сайты
ориентированы именно на продажу игр, в то время как для анонсы игротек
второстепенны и организатор соответствует организации сайта, появляются на одной
странице или в новостях. То есть решений с возможностью просмотра многих игротек
разных организаторов в <<одном месте>> на российском рынке найдено не было

\subsection{Иностранные}

BoardGameGeek --- многофункциональный сайт для любителей настольных игр,
содержит информацию о многочисленных настольных играх, предоставляя ссылки на
покупку, также предоставляет форумы, топы и т д и тп. Самое главное содежит
страницу с акутальными данными по игровым конференциям всего мира, на которых
проводятся игротеки.

Toptiergaming --- информация по игротекам США и релизам настольных игр.

Board Game Halv --- новостной сайт о мире настолок. Содержит страничку в
игротеками, но больше

\subsection{Вывод}

Полноценных аналогов не найдено.

\section{Выбор модели базы данных}

База данных --- это совокупность данных, организованных по определенным
правилам, предусматривающим общие принципы описания, хранения и манипулирования
данными, независимая от прикладных программ~\cite{gost01}.

Основные типы: рел и нерел

\subsection{Реляционные базы данных}

\subsection{Нереляционные базы данных}

\section{Выбор системы уравления базами данных}

Система управления базами данных --- это совокупность программ и языковых
средств, предназначенных для управления данными в базе данных, ведения базы
данных и обеспечения взаимодействия ее с прикладными программами~\cite{gost01}.

Выбор пал на реляционные => рассмотрим основные СУБД, предоставляющие
возможность работы с ними.

\subsection{MySQL}

\subsection{PostgreSQL}

\subsection{Oracle}

\subsection{Вывод}

Выбираю PostgreSQL, потому что я умею с ним работать :)

\section{Вывод}
