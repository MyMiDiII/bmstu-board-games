\chapter{Аналитическая часть}

\begin{comment}
\section{ЧерновЯчок}

На рисунке \ref{img:worm} представлен Червячок (талисман этого курсача) для
повышения настрения при написании данной работы.

\img{5cm}{worm}{Просто червячок, чтобы не было грустно}{worm}

А дальше тут просто черновые записи, а то они сливаются.

\subsection{Про анализ области}

На специализированных сайтах ...

Каждый магазин представляет свои анонсы.

Как правило, анонс игротеки включает: 

Добавим туда ещё и организатора.

Предоставляется возможность регистрации через гугл формы. Необходимость
интеграции --- необходимость введения игрока.

Игротека проводится организатором (магазином) в каком-то месте (кафе, антикафе,
ресторане и тп). На ней представлена одна или несколько игр, в которые можно
поиграть. Часто организаторы предоставляют возможность покупки тех же игр прямо
на месте или возможность сделать заказ.

\textbf{\texttt{Анализ}} страниц сайтах об игротеках показал, что
\textbf{\texttt{обычно}} информация об игротеке включает дату, время начала,
продолжительность или время окончания, адрес проведения и стоимость участия.
Также представляется набор игр, по которым проводится игротека.

Информация об играх 
\end{comment}

В данном разделе проводится анализ предметной области: на основе рассмотрения
существующих решений делаются выводы о представлении информации о настольных
играх и игротеках, а также о необходимых возможностях пользователей. На базе
анализа предметной области формулируются требования к информационной системе,
формализуются данные и типы пользователей. Также проводится сравнение
существующих моделей баз данных и систем управления базами данных, из которых
выбираются оптимальные для решения поставленной задачи.

\section{Анализ предметной области}

В силу молодости рынка настольных игр анализ предметной области проводится на
основе рассмотрения программных решений, представляющих интернет-магазины
крупных компаний настольных игр или тематических сайтов.

\subsection{Существующие решения}

Так как рынки настольных игр в России и за рубежом имеют разные уровни развития
существующие программные решения рассматриваются отдельно для российского и
зарубежного рынков.

\subsubsection{Российский рынок}

На российском рынке программные решения в сфере настольных игр представлены
интернет-магазинами крупных продавцов: Hobby Games~\cite{site01},
Мосигра~\cite{site02}, Низа Гамс~\cite{site03} и др. Их веб-сайты ориентированы
именно на продажу игр, в то время как анонсы игротек второстепенны и расположены
либо в специлизированном разделе сайта, либо в новостях, при этом регистрация
проходит либо через сторонний сервис, либо через сообщения в социальных сетях.

\subsubsection{Зарубежный рынок}

BoardGameGeek --- многофункциональный сайт для любителей настольных игр,
содержит информацию о многочисленных настольных играх, предоставляя ссылки на
покупку, также предоставляет форумы, топы и т д и тп. Самое главное содежит
страницу с акутальными данными по игровым конференциям всего мира, на которых
проводятся игротеки.

Toptiergaming --- информация по игротекам США и релизам настольных игр.

Board Game Halv --- новостной сайт о мире настолок. Содержит страничку в
игротеками, но больше

\subsection{Представление информации об играх и игротеках}

На специализированных сайтах [ссылочки] информация об игротеках, представляется
в формате: Название (содержащее название игры), Место проведения, Время начала и продолжительность,
Стоимость участия, ссылка на регистрацию.

То есть организатор предоставляет информацию игротеки и возможность регистрации
на нее через стороннее приложение.

Игрок после длительных поисках на сайтах различных производителей, измученный
всем и вся, забивает и идет смотреть сериальчики ;)

А вообще у игрока есть возможность зарегистрироваться на игротеку, однако их
поиск системами не предоставляется.

\subsection{Возможности пользователей}

Бла-бла-бла. 

Организатор делает, что хочет на своем сайте и как хочет. Игрок в панике ищет
необходимую ему информацию.

\subsection*{Вывод}

Если организаторы имеют свободу в дествиях на своих сайтах и ..., то игрокам в
поисках необходимой игротеки придется посетить многочисленые сайты компаний,
отыскав на них необходимую страницу, а для регистрации воспользоваться сторонним
сервисом, либо связаться с организатором на прямую.

\section{Постановка задачи}

\texttt{\textbf{На основе анализа предметной области был сделан вывод о том, что
        для игроков инофрмация об игротеках разрозненна и труднодоступна, то
        есть необходима реализация системы с собранными в одном месте игротеками
        с возможностью регистрации без обращения к сторонним ресурсам, при этом
        данная система должна поддерживать необходимые функциональности для
        оргазаторов}}.

На основе анилаз предметной области формализовать процесс проведения игротеки
можно следующим образом. При этом необходимые и возможные действия
пользователей формируют соответствующие требования к информационной
системе.

Сначала организатор:
\begin{enumerate}[label=\arabic*)]
    \item выбирает время и место проведения игротеки, а также настольные игры,
      по которым она проводится;
    \item определяет другие характеристики игротеки (название,
        продолжительность, стоимость участия, возможность купить игры);
    \item регистрирует игротеку.
\end{enumerate}

Далее игрок --- участник игротеки:
\begin{enumerate}[label=\arabic*)]
    \item просматривает список настольных игр;
    \item выбирает понравившиеся игры, добавляя их в свой список избранных;
    \item выбирает игротеку по понравившимся играм или из всего списка
        зарегистрированных игротек;
    \item регистрируется на игротеку.
\end{enumerate}

При этом игрок может пропустить этапы просмотра и выбора настольных игр и
сразу перейти к выбору игротеки.

Описанные выше действия субъектов игротеки являются обязательными требованиями
к разрабатываемой информационной системе и должны быть реализованы в первую
очередь.

Также у организатора должна быть возможность:
\begin{itemize}
    \item просмотреть список участников, зарегистрированных на игротеку;
    \item отменить игротеку;
    \item перенести игротеку (изменить место проведения или время начала);
    \item изменить другую информацию о ней;
    \item сформировать заявку на добавление в базу места проведения или
        настольной игры при их отсутствии.
\end{itemize}

Игрок, в свою очередь, должен иметь возможность:
\begin{itemize}
    \item удалить игру из списка понравившихся игр;
    \item отменить регистрацию на игротеку.
\end{itemize}

Данные требования являются желательными и реализуются сразу после обязательных.
 
Возможными требования к реализуемой системе являются:
\begin{itemize}
    \item подтвержение организатором посещения игроком игротеки;
    \item изменение организатором рейтинга игрока после посещения им игротеки;
    \item уменьшение рейтинга игрока вследствие пропуска игротеки, на которую он
        был зарегистрирован;
    \item оценка игроком посещенной игротеки и организатора.
\end{itemize}

Регистрация -> пользователи


\section{Формализация данных}

На основании пункта о представлении информации о настольных играх и игротеках из
подраздела анализа предметной области и сформулированных требований база данных
должна содержать информацию о:

\begin{itemize}
    \item игротеках;
    \item организаторах;
    \item местах проведения;
    \item настольных играх, по которым проводятся игротеки;
    \item игроках;
    \item пользователях.
\end{itemize}

Сведения о каждой представленной выше сущности описаны в таблице~\ref{tab:01}.

\begin{table}[h!]
    \begin{center}
    \begin{threeparttable}
        \captionsetup{format=hang,justification=raggedright,
                      singlelinecheck=off}
        \caption{\label{tab:01}Категории данных и сведения о них}
        \renewcommand{\arraystretch}{1.5}
        \begin{tabular}{|p{4cm}|p{12cm}|}
            \hline
            \bfseries Категория & \bfseries Сведения\\
            \hline
            \begin{minipage}[t]{\linewidth}
              \begin{multicols}{1}
                \begin{itemize}[leftmargin=0mm,labelsep=0mm,nosep,after=\strut]
                  \item[] Игротека
                  \item[]
                  \item[]
                  \item[]
                  \item[]
                  \item[]
                  \item[]
                  \item[]
                  \item[]
                \end{itemize}
              \end{multicols}
            \end{minipage}
          & \begin{minipage}[t]{\linewidth}
              \begin{multicols}{2}
                \begin{itemize}[leftmargin=0mm,labelsep=0mm,nosep,after=\strut]
                  \item[] ID
                  \item[] Название
                  \item[] Организатор
                  \item[] Время начала
                  \item[] Дата проведения
                  \item[] Возможность покупки игр
                  \item[] Место проведения
                  \item[] Продолжительность
                  \item[] Стоимость участия
                \end{itemize}
              \end{multicols}
            \end{minipage}\\
            \hline
            \begin{minipage}[t]{\linewidth}
              \begin{multicols}{1}
                \begin{itemize}[leftmargin=0mm,labelsep=0mm,nosep,after=\strut]
                  \item[] Организатор
                  \item[]
                  \item[]
                  \item[]
                  \item[]
                \end{itemize}
              \end{multicols}
            \end{minipage}
          & \begin{minipage}[t]{\linewidth}
              \begin{multicols}{2}
                \begin{itemize}[leftmargin=0mm,labelsep=0mm,nosep,after=\strut]
                  \item[] ID
                  \item[] Название
                  \item[] Адрес
                  \item[] Сайт
                  \item[] Email
                  \item[] Телефон
                \end{itemize}
              \end{multicols}
            \end{minipage}\\
            \hline
            \begin{minipage}[t]{\linewidth}
              \begin{multicols}{1}
                \begin{itemize}[leftmargin=0mm,labelsep=0mm,nosep,after=\strut]
                  \item[] Место 
                  \item[] проведения
                  \item[]
                  \item[]
                  \item[]
                  \item[]
                  \item[]
                \end{itemize}
              \end{multicols}
            \end{minipage}
          & \begin{minipage}[t]{\linewidth}
              \begin{multicols}{2}
                \begin{itemize}[leftmargin=0mm,labelsep=0mm,nosep,after=\strut]
                  \item[] ID
                  \item[] Адрес
                  \item[] Сайт
                  \item[] Название
                  \item[] Тип
                  \item[] Email
                  \item[] Телефон
                \end{itemize}
              \end{multicols}
            \end{minipage}\\
            \hline
            \begin{minipage}[t]{\linewidth}
              \begin{multicols}{1}
                \begin{itemize}[leftmargin=0mm,labelsep=0mm,nosep,after=\strut]
                  \item[] Настольная
                  \item[] игра
                  \item[]
                  \item[]
                  \item[]
                  \item[]
                  \item[]
                  \item[]
                  \item[]
                \end{itemize}
              \end{multicols}
            \end{minipage}
          & \begin{minipage}[t]{\linewidth}
              \begin{multicols}{2}
                \begin{itemize}[leftmargin=0mm,labelsep=0mm,nosep,after=\strut]
                  \item[] ID
                  \item[] Название
                  \item[] Производитель
                  \item[] Год выпуска
                  \item[] Мин. число игроков
                  \item[] Макс. число игроков
                  \item[] Мин. возраст
                  \item[] Макс. возраст
                  \item[] Мин. время игры
                  \item[] Макс. время игры
                \end{itemize}
              \end{multicols}
            \end{minipage}\\
            \hline
            \begin{minipage}[t]{\linewidth}
              \begin{multicols}{1}
                \begin{itemize}[leftmargin=0mm,labelsep=0mm,nosep,after=\strut]
                  \item[] Игрок
                  \item[]
                  \item[]
                \end{itemize}
              \end{multicols}
            \end{minipage}
          & \begin{minipage}[t]{\linewidth}
              \begin{multicols}{2}
                \begin{itemize}[leftmargin=0mm,labelsep=0mm,nosep,after=\strut]
                  \item[] ID
                  \item[] Имя
                  \item[] Лига
                  \item[] Рейтинг
                \end{itemize}
              \end{multicols}
            \end{minipage}\\
            \hline
            \begin{minipage}[t]{\linewidth}
              \begin{multicols}{0}
                \begin{itemize}[leftmargin=0mm,labelsep=0mm,nosep,after=\strut]
                  \item[] Пользователь
                  \item[]
                  \item[]
                  \item[]
                \end{itemize}
              \end{multicols}
            \end{minipage}
          & \begin{minipage}[t]{\linewidth}
              \begin{multicols}{2}
                \begin{itemize}[leftmargin=0mm,labelsep=0mm,nosep,after=\strut]
                  \item[] ID
                  \item[] Роль
                  \item[] Логин
                  \item[] Пароль
                \end{itemize}
              \end{multicols}
            \end{minipage}\\
           \hline
        \end{tabular}
    \end{threeparttable}
    \end{center}
\end{table} 

\section{Описание типов пользователей}

В соответствии с поставленными требованиями необходимо выделить 4~типа
пользователей, описание которых представлено в таблице~\ref{tab:02}.

\begin{table}[h!]
    \begin{center}
    \begin{threeparttable}
        \captionsetup{format=hang,justification=raggedright,
                      singlelinecheck=off}
        \caption{\label{tab:02}Описание типов пользователей}
        \renewcommand{\arraystretch}{1.5}
        \begin{tabular}{|p{5.1cm}|p{11.3cm}|}
            \hline
            \bfseries Тип &
            \bfseries Функциональность\\
            \hline
            Гость \par (неавторизированный пользователь)
                  & \begin{minipage}[t]{\linewidth}
                      \begin{itemize}[nosep,after=\strut]
                        \item Просмотр списка настольных игр и игротек
                        \item Поиск игротек по настольной игре
                        \item Авторизация
                        \item Регистрация
                      \end{itemize}
                  \end{minipage}\\
            \hline
            Игрок \par (авторизированный пользователь)
                  & \begin{minipage}[t]{\linewidth}
                      \begin{itemize}[nosep,after=\strut]
                          \item Просмотр списка настольных игр и игротек
                          \item Составление списка предпочитаемых игр
                          \item Поиск игротек по настольным играм 
                          \item Регистрация на игротеки и ее отмена
                      \end{itemize}
                  \end{minipage}\\
            \hline
            Организатор \par (авторизированный пользователь)
                  & \begin{minipage}[t]{\linewidth}
                      \begin{itemize}[nosep,after=\strut]
                          \item Просмотр списка настольных игр, игротек, мест
                        проведения
                          \item Регистрация новых игротек и их отмена
                          \item Изменение информации о зарегистрированных
                              игротеках
                          \item Просмотр списка зарегистрированных на
                              \mbox{игротеку} участников
                          \item Формирование заявки на добавление нового
                              \mbox{места} проведения при его отсутствии в базе
                          \item Формирование заявки на добавление игры при ее
                        отсутствии в базе
                      \end{itemize}
                  \end{minipage}\\
            \hline
            Администратор \par (авторизированный пользователь
                    с \mbox{повышенным~~уровнем} полномочий)
                  & \begin{minipage}[t]{\linewidth}
                      \begin{itemize}[nosep,after=\strut]
                          \item Просмотр списка настольных игр, игротек, мест
                        проведения, организаторов, пользователей
                    \item Изменение информации о настольных играх, \mbox{местах}
                        проведения, организаторах, игротеках
                          \item Одобрение или отклонение заявок от
                              \mbox{организаторов}
                          \item Изменение прав доступа пользователей
                          \item Удаление пользователей
                      \end{itemize}
                  \end{minipage}\\
            \hline
        \end{tabular}
    \end{threeparttable}
    \end{center}
\end{table} 


\section{Выбор модели базы данных}

База данных --- это совокупность данных, организованных по определенным
правилам, предусматривающим общие принципы описания, хранения и манипулирования
данными, независимая от прикладных программ~\cite{gost01}.

Основные типы: рел и нерел

\subsection{Реляционные базы данных}

\subsection{Нереляционные базы данных}

\subsection*{Вывод}

\section{Выбор системы уравления базами данных}

Система управления базами данных --- это совокупность программ и языковых
средств, предназначенных для управления данными в базе данных, ведения базы
данных и обеспечения взаимодействия ее с прикладными программами~\cite{gost01}.

Выбор пал на реляционные => рассмотрим основные СУБД, предоставляющие
возможность работы с ними.

\subsection{MySQL}

\subsection{PostgreSQL}

\subsection{Oracle}

\subsection*{Вывод}

Выбираю PostgreSQL, потому что я умею с ним работать :)

\section*{Вывод}
